// Generic list data structure with push "method".

T* alloc<T>(int size) {
    // TODO
}

struct list<T> {
    int len;
    int cap;
    T* buf;
};

struct list<T> list(int size) {
    struct list x;
    x = list {
        len: 0,
        cap: size,
        buf: alloc(size),
    };
    return x;
}

void push<T>(struct list<T>* this, T item) {
    if (this->cap <= this->len) {
        // allocate ...
    } else {
        this->buf[this->len] = item;
        this->len = this->len + 1;
    }
}
